<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>From Server-side to Browser-based Shiny Apps and Back Again • peeky</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="behind-the-scenes_files/libs/quarto-html/popper.min.js"></script><script src="behind-the-scenes_files/libs/quarto-html/tippy.umd.min.js"></script><link href="behind-the-scenes_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="behind-the-scenes_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="From Server-side to Browser-based Shiny Apps and Back Again">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">peeky</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/behind-the-scenes.html">From Server-side to Browser-based Shiny Apps and Back Again</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/coatless-rpkg/peeky/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1></h1>

      <p class="author">James Joseph Balamuta</p>


      <small class="dont-index">Source: <a href="https://github.com/coatless-rpkg/peeky/blob/main/vignettes/behind-the-scenes.qmd" class="external-link"><code>vignettes/behind-the-scenes.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <header id="title-block-header" class="quarto-title-block"><h1 class="title">From Server-side to Browser-based Shiny Apps and Back Again</h1></header><section class="section level3"><h3 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h3>
<p><a href="https://shiny.posit.co/py/docs/shinylive.html" class="external-link">Shinylive</a> represents a paradigm shift in how Shiny applications are deployed and executed. Instead of running on a <strong>computational</strong> server, these applications execute entirely within a web browser after being downloaded. This vignette explores the transformation process from a traditional Shiny application to a Shinylive application and explains how tools like <a href="https://github.com/coatless-rpkg/peeky" class="external-link"><code>peeky</code></a> can extract the source code from these browser-based applications.</p>
<section class="level3"><h4 id="the-traditional-shiny-model">The Traditional Shiny Model<a class="anchor" aria-label="anchor" href="#the-traditional-shiny-model"></a>
</h4>
<p>In a traditional Shiny application:</p>
<ol type="1">
<li>Source code resides on a <strong>computational</strong> server</li>
<li>R and/or Python are installed and running on the server</li>
<li>Users interact with the app through their browser, which communicates and processes the interaction on the server.</li>
<li>App code remains <strong>private</strong> and <strong>inaccessible</strong> to end users</li>
</ol>
<p>For example, consider a template for an R Shiny application:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Traditional Shiny app structure</span></span>
<span><span class="co"># app.R or (ui.R/server.R)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span>  <span class="co"># UI elements</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Server logic</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>Once deployed, the server executes the application code and sends the results back to the user’s browser. This code is <strong>not</strong> accessible to the user since it runs on the server’s R process.</p>
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="https://talks.thecoatlessprofessor.com/stats352-guest-lectures-on-dynamic-interactions-wasm/assets/gifs/compute-server-running-r-once-smaller.gif"></p>
<figcaption>Computational server sending the Shiny application’s rendered output and waiting for more commands.</figcaption></figure>
</div>
</section><section class="level3"><h4 id="the-shinylive-transformation-from-server-to-browser">The Shinylive Transformation: From Server to Browser<a class="anchor" aria-label="anchor" href="#the-shinylive-transformation-from-server-to-browser"></a>
</h4>
<p>Shinylive represents a revolutionary approach to Shiny applications by enabling them to run entirely within a web browser. Unlike traditional Shiny apps that require continuous server communication, Shinylive applications operate like modern web pages—downloaded once and executed locally in the user’s browser.</p>
<div class="quarto-figure quarto-figure-center">
<figure><p><img src="https://talks.thecoatlessprofessor.com/stats352-guest-lectures-on-dynamic-interactions-wasm/assets/gifs/webserver-sending-r-once-smaller.gif"></p>
<figcaption>Static webserver sending <strong>all</strong> the Shinylive application files to be unpacked and run in the user’s web browser</figcaption></figure>
</div>
<p>This transformation involves arguably three key steps: Code Preparation, Conversion Process, and Browser Deployment.</p>
<section class="level4"><h5 id="step-1-code-preparation">Step 1: Code Preparation<a class="anchor" aria-label="anchor" href="#step-1-code-preparation"></a>
</h5>
<p>The initial phase of converting a Shiny application to Shinylive requires careful preparation of your application code. While most core Shiny functionality remains unchanged, several key areas need attention.</p>
<section class="level5"><h6 id="dependency-management">Dependency Management<a class="anchor" aria-label="anchor" href="#dependency-management"></a>
</h6>
<p>Your application’s dependencies must be compatible with WebAssembly execution:</p>
<p>For R applications:</p>
<ul>
<li>Verify package availability in the <a href="https://repo.r-wasm.org/" class="external-link">webR package repository</a>
</li>
<li>Consider alternative packages if preferred ones aren’t WebAssembly-compatible</li>
<li>Be mindful that some packages may have reduced functionality in WebAssembly version of R.</li>
</ul>
<p>For Python applications:</p>
<ul>
<li>Check if packages are included in <a href="https://pyodide.org/en/stable/usage/packages-in-pyodide.html" class="external-link">Pyodide’s built-in package list</a>
</li>
<li>For packages not in Pyodide, look for pure Python alternatives on PyPI</li>
<li>Note that packages with C extensions typically won’t work unless specifically compiled for the WebAssembly version of Python.</li>
</ul></section><section class="level5"><h6 id="file-system-considerations">File System Considerations<a class="anchor" aria-label="anchor" href="#file-system-considerations"></a>
</h6>
<p>Browser-based applications handle files differently than traditional server applications:</p>
<ul>
<li>Use relative paths for all file references</li>
<li>Avoid assumptions about file system access or operating system-specific paths</li>
<li>Maintain a clear directory structure with data files in the application directory</li>
</ul></section><section class="level5"><h6 id="external-resource-management">External Resource Management<a class="anchor" aria-label="anchor" href="#external-resource-management"></a>
</h6>
<p>Applications running in WebAssembly require specialized approaches for accessing external resources via an API due to browser security constraints and the WebAssembly runtime environment.</p>
<p><strong>Pre-bundling Data</strong></p>
<p>For static or infrequently updated data, bundle it directly with your application. This approach ensures reliable data access and faster initial loading.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Before: Direct API access</span></span>
<span><span class="va">api_data</span> <span class="op">&lt;-</span> <span class="fu">fetch_from_api</span><span class="op">(</span><span class="st">"https://api.example.com/data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># After: Using pre-bundled data</span></span>
<span><span class="co"># During development:</span></span>
<span><span class="va">api_data</span> <span class="op">&lt;-</span> <span class="fu">fetch_from_api</span><span class="op">(</span><span class="st">"https://api.example.com/data"</span><span class="op">)</span></span>
<span><span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/read_json.html" class="external-link">write_json</a></span><span class="op">(</span><span class="va">api_data</span>, <span class="st">"data.json"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># In application:</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="st">"data.json"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Dynamic Data Loading</strong></p>
<p>For APIs that support Cross-origin resource sharing (CORS), you can fetch data directly by using <code><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file()</a></code> (replaced with a browser-compatible download method):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Before: Server-side API call</span></span>
<span><span class="va">api_data</span> <span class="op">&lt;-</span> <span class="fu">fetch_from_api</span><span class="op">(</span><span class="st">"https://api.example.com/data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># After: Browser-compatible download</span></span>
<span><span class="fu">download.files</span><span class="op">(</span><span class="st">"https://api.example.com/data"</span>, <span class="st">"data.json"</span><span class="op">)</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">jsonlite</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/jsonlite/man/fromJSON.html" class="external-link">fromJSON</a></span><span class="op">(</span><span class="st">"data.json"</span><span class="op">)</span></span></code></pre></div>
<p>To ease future maintanence, we suggest documenting any WebAssembly-specific modifications.</p>
</section></section><section class="level4"><h5 id="step-2-the-conversion-process">Step 2: The Conversion Process<a class="anchor" aria-label="anchor" href="#step-2-the-conversion-process"></a>
</h5>
<p>Converting a Shiny application to Shinylive involves transforming your application into a browser-compatible format. This process is automated through dedicated conversion tools for both R and Python environments.</p>
<section class="level5"><h6 id="initiating-the-conversion">Initiating the Conversion<a class="anchor" aria-label="anchor" href="#initiating-the-conversion"></a>
</h6>
<p>We can convert a shiny application found in <code>myapp/</code> directory to a Shinylive application via either <a href="https://cran.r-project.org/package=shinylive" class="external-link">{r-shinylive}</a> or <a href="https://pypi.org/project/shinylive/" class="external-link">{py-shinylive}</a>.</p>
<p><strong>For R Applications:</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install the package if needed</span></span>
<span><span class="co"># install.packages("shinylive")</span></span>
<span></span>
<span><span class="co"># Convert the application</span></span>
<span><span class="fu">shinylive</span><span class="fu">::</span><span class="fu">export</span><span class="op">(</span></span>
<span>  appdir <span class="op">=</span> <span class="st">"myapp"</span>,     <span class="co"># Source directory</span></span>
<span>  destdir <span class="op">=</span> <span class="st">"_site"</span>,    <span class="co"># Output directory</span></span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>        <span class="co"># Show conversion progress</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>For Python Applications:</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install the package if needed</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pip install shinylive</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the application</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="ex">shinylive</span> export myapp _site</span></code></pre></div>
</section><section class="level5"><h6 id="behind-the-scenes">Behind the Scenes<a class="anchor" aria-label="anchor" href="#behind-the-scenes"></a>
</h6>
<p>The conversion process involves three unique stages described next.</p>
<section class="level6"><h6 id="file-collection">File Collection<a class="anchor" aria-label="anchor" href="#file-collection"></a>
</h6>
<p>The system aggregates all application components:</p>
<ul>
<li>Application source code (R/Python files)</li>
<li>Data files and datasets</li>
<li>Web assets (images, stylesheets, scripts)</li>
<li>Configuration files</li>
<li>Documentation files</li>
</ul></section><section class="level6"><h6 id="metadata-and-manifest-generation">Metadata and Manifest Generation<a class="anchor" aria-label="anchor" href="#metadata-and-manifest-generation"></a>
</h6>
<p>The system creates a comprehensive <code>app.json</code> manifest that catalogs and stores all application components.</p>
<p>The original Shiny application shown would be converted to:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">{</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"name"</span><span class="fu">:</span> <span class="st">"app.R"</span><span class="fu">,</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"content"</span><span class="fu">:</span> <span class="st">"library(shiny)</span><span class="ch">\n</span><span class="st">ui &lt;- fluidPage(...) ..."</span><span class="fu">,</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"text"</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">{</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"name"</span><span class="fu">:</span> <span class="st">"data/dataset.csv"</span><span class="fu">,</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"content"</span><span class="fu">:</span> <span class="st">"date,value,category</span><span class="ch">\n</span><span class="st">2024-01-01,42,A"</span><span class="fu">,</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"text"</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">{</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"name"</span><span class="fu">:</span> <span class="st">"www/assets/logo.png"</span><span class="fu">,</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"content"</span><span class="fu">:</span> <span class="st">"iVBORw0KGgoAAAANSUhEUgAA..."</span><span class="fu">,</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"binary"</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">{</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"name"</span><span class="fu">:</span> <span class="st">"www/styles/custom.css"</span><span class="fu">,</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"content"</span><span class="fu">:</span> <span class="st">".dashboard-container { padding: 2rem; }"</span><span class="fu">,</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="dt">"type"</span><span class="fu">:</span> <span class="st">"text"</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="ot">]</span></span></code></pre></div>
</section><section class="level6"><h6 id="runtime-environment-setup">Runtime Environment Setup<a class="anchor" aria-label="anchor" href="#runtime-environment-setup"></a>
</h6>
<p>The conversion tool configures the appropriate WebAssembly-based runtime environment.</p>
<p><strong>For R Applications:</strong></p>
<ul>
<li>Configures WebR environment</li>
<li>Sets up required R packages</li>
<li>Establishes communication bridges between WebR and the browser</li>
</ul>
<p><strong>For Python Applications:</strong></p>
<ul>
<li>Configures Pyodide environment</li>
<li>Sets up Python package dependencies</li>
<li>Establishes browser-Python interop mechanisms</li>
</ul>
<p>Each stage ensures that your application will run efficiently and reliably in a browser environment while maintaining (nearly) all its original functionality.</p>
</section></section></section><section class="level4"><h5 id="step-3-browser-deployment-and-execution">Step 3: Browser Deployment and Execution<a class="anchor" aria-label="anchor" href="#step-3-browser-deployment-and-execution"></a>
</h5>
<p>Once converted, a Shinylive application can be deployed to any web server that supports HTTPS. This represents a significant departure from traditional Shiny hosting requirements, as the application now runs entirely in the user’s browser.</p>
<p>That said, we still have a few choices to make regarding how it is “deployed” or shared.</p>
<section class="level5"><h6 id="local-deployment">Local Deployment<a class="anchor" aria-label="anchor" href="#local-deployment"></a>
</h6>
<p>If we’re wanting this to be a local application, we cannot directly click on the generated HTML file to view the application (without modify browser security settings). Instead, we need to use a “Live Server” to view the application. This can be achieved with either:</p>
<ul>
<li>Use VSCode’s <a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer" class="external-link">Live Server extension</a>
</li>
<li>Python’s <a href="https://docs.python.org/3/library/http.server.html" class="external-link"><code>http.server</code></a> module</li>
<li>R’s <a href="https://github.com/rstudio/httpuv" class="external-link"><code>httpuv</code></a> package</li>
</ul>
<p>The latter two are suggested directly after conversion.</p>
</section><section class="level5"><h6 id="global-deployment">Global Deployment<a class="anchor" aria-label="anchor" href="#global-deployment"></a>
</h6>
<p>If we can share our application, then any static hosting platforms will suffice. For example, we could use anyone of the following services to make our application available:</p>
<ul>
<li>
<a href="https://pages.github.com/" class="external-link">GitHub Pages</a> (free, integrated with GitHub)</li>
<li>
<a href="https://www.netlify.com/" class="external-link">Netlify</a> (robust CDN, automatic builds)</li>
<li>
<a href="https://vercel.com/" class="external-link">Vercel</a> (excellent performance, good for SPAs)</li>
<li>Amazon <a href="https://aws.amazon.com/s3/" class="external-link">S3</a> + <a href="https://aws.amazon.com/cloudfront/" class="external-link">CloudFront</a> (scalable, cost-effective)</li>
</ul>
<section class="level6"><h6 id="global-deployment-tutorials">Global Deployment Tutorials<a class="anchor" aria-label="anchor" href="#global-deployment-tutorials"></a>
</h6>
<p>For step-by-step guidance to deploy with GitHub Pages under a continuous deployment workflow, consult these tutorials:</p>
<ol type="1">
<li>
<a href="https://github.com/coatless-quarto/r-shinylive-demo" class="external-link">R Shinylive in Quarto Documents</a>
<ul>
<li>Integration with Quarto publishing</li>
<li>Document-embedded applications</li>
</ul>
</li>
<li>
<a href="https://github.com/coatless-tutorials/convert-shiny-app-r-shinylive" class="external-link">R Shinylive GitHub Pages Deployment</a>
<ul>
<li>Standalone R Shiny application deployment</li>
</ul>
</li>
<li>
<a href="https://github.com/coatless-tutorials/convert-py-shiny-app-to-py-shinylive-app" class="external-link">Python Shinylive GitHub Pages Deployment</a>
<ul>
<li>Python-specific considerations (e.g. <code>requirements.txt</code>)</li>
</ul>
</li>
</ol></section></section><section class="level5"><h6 id="application-runtime-flow">Application Runtime Flow<a class="anchor" aria-label="anchor" href="#application-runtime-flow"></a>
</h6>
<p>Once deployed, the application follows this execution sequence:</p>
<ol type="1">
<li>
<strong>Runtime Initialization</strong>
<ul>
<li>Browser loads WebR or Pyodide environment</li>
<li>WebAssembly modules are initialized</li>
<li>Runtime dependencies are configured</li>
</ul>
</li>
<li>
<strong>Application Loading</strong>
<ul>
<li>System fetches and parses <code>app.json</code>
</li>
<li>Application files are extracted and loaded</li>
<li>Resources are prepared for execution</li>
</ul>
</li>
<li>
<strong>UI Initialization</strong>
<ul>
<li>Interface elements are rendered</li>
<li>Event listeners are established</li>
<li>WebAssembly runtime is connected to UI</li>
</ul>
</li>
<li>
<strong>Client-Side Execution</strong>
<ul>
<li>All computation occurs in the user’s browser</li>
<li>No server communication required</li>
<li>Real-time interactivity through WebAssembly</li>
</ul>
</li>
</ol>
<p>This sequence provides a seamless, computation server-independent experience while maintaining the (nearly) full power and interactivity of Shiny applications.</p>
</section></section></section><section class="level3"><h4 id="understanding-and-extracting-shinylive-applications-with-peeky">Understanding and Extracting Shinylive Applications with <code>peeky</code>
<a class="anchor" aria-label="anchor" href="#understanding-and-extracting-shinylive-applications-with-peeky"></a>
</h4>
<p>The <code>peeky</code> package provides tools to examine and extract source code from deployed Shinylive applications, leveraging their inherent transparency. This capability is valuable for learning, debugging, and understanding how successful Shinylive applications are structured.</p>
<p>There are three key functions for exploring a Shinylive application:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># For any Shinylive application type</span></span>
<span><span class="fu">peeky</span><span class="fu">::</span><span class="fu"><a href="../reference/peek_shinylive_app.html">peek_shinylive_app</a></span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="st">"https://shiny.thecoatlessprofessor.com/probability-distribution-explorer"</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="st">"extracted-app"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Specifically for standalone applications</span></span>
<span><span class="fu">peeky</span><span class="fu">::</span><span class="fu"><a href="../reference/peek_standalone_shinylive_app.html">peek_standalone_shinylive_app</a></span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="st">"https://shiny.thecoatlessprofessor.com/central-limit-theorem/"</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="st">"extracted-standalone-app"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># For Quarto-embedded applications</span></span>
<span><span class="fu">peeky</span><span class="fu">::</span><span class="fu"><a href="../reference/peek_quarto_shinylive_app.html">peek_quarto_shinylive_app</a></span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="st">"https://coatless-quarto.github.io/r-shinylive-demo/"</span>,</span>
<span>  output_dir <span class="op">=</span> <span class="st">"extracted_quarto"</span>,</span>
<span>  output_format <span class="op">=</span> <span class="st">"app-dir"</span>  <span class="co"># or "quarto"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<section class="level4"><h5 id="application-reconstruction">Application Reconstruction<a class="anchor" aria-label="anchor" href="#application-reconstruction"></a>
</h5>
<p>The extracted content is automatically reconstructed into a fully functional application structure.</p>
<p>For example, with our motivating Shiny example, we would have:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">sample-app/</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> app.R                    <span class="co"># Application entry point</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> data/                    <span class="co"># Data directory</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   └── data/dataset.csv</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ex">├──</span> www/                     <span class="co"># Web assets</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   ├── assets/</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   │   └── logo.png</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   └── styles/</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="ex">│</span>   │   └── custom.css</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="ex">└──</span> shinylive_metadata.json  <span class="co"># Configuration (Quarto-apps only)</span></span></code></pre></div>
</section><section class="level4"><h5 id="handling-quarto-embedded-applications">Handling Quarto-Embedded Applications<a class="anchor" aria-label="anchor" href="#handling-quarto-embedded-applications"></a>
</h5>
<p>When working with Quarto documents containing multiple Shinylive applications, <code>peeky</code> offers two reconstruction approaches:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract as separate application directories</span></span>
<span><span class="fu">peeky</span><span class="fu">::</span><span class="fu"><a href="../reference/peek_quarto_shinylive_app.html">peek_quarto_shinylive_app</a></span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="st">"https://quarto-ext.github.io/shinylive"</span>,</span>
<span>  output_format <span class="op">=</span> <span class="st">"app-dir"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Results in:</span></span>
<span><span class="co"># extracted_quarto/</span></span>
<span><span class="co"># ├── app_1/</span></span>
<span><span class="co"># ├── app_2/</span></span>
<span><span class="co"># ├── app_3/</span></span>
<span><span class="co"># └── app_4/</span></span>
<span></span>
<span><span class="co"># Reconstruct as a new Quarto document</span></span>
<span><span class="fu">peeky</span><span class="fu">::</span><span class="fu"><a href="../reference/peek_quarto_shinylive_app.html">peek_quarto_shinylive_app</a></span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="st">"https://quarto-ext.github.io/shinylive"</span>,</span>
<span>  output_format <span class="op">=</span> <span class="st">"quarto"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># Results in a single .qmd file containing all applications</span></span></code></pre></div>
<p>This flexibility in extraction formats supports various use cases, from studying individual applications to reproducing complete Quarto documents with embedded Shinylive functionality.</p>
</section><section class="level4"><h5 id="security-implications">Security Implications<a class="anchor" aria-label="anchor" href="#security-implications"></a>
</h5>
<p>When deploying Shinylive applications that run entirely in the browser, developers must carefully consider the implications of client-side code transparency. Unlike traditional server-based applications, these browser-based apps can be downloaded, inspected, and reconstructed by users, creating unique security challenges.</p>
<p>The client-side nature of these applications means that all source code—whether it’s R, Python, or SQL queries—becomes accessible to anyone with basic knowledge of browser developer tools or <code>peeky</code>. This exposure isn’t limited to just the code itself; it extends to bundled datasets, configuration files, and any other resources packaged with the application.</p>
<p>Security-critical elements like API keys, database credentials, and authentication tokens require special handling. Including these in client-side code is equivalent to making them public, as they can be easily extracted from the browser’s memory or network requests. Such sensitive credentials should always be managed through secure server-side mechanisms.</p>
<p>Perhaps even more critically, organizations must carefully assess how they handle proprietary intellectual property. Any business logic, algorithms, or unique computational methods implemented in client-side code become vulnerable to inspection and replication. This creates a fundamental tension between the convenience of client-side processing and the need to protect valuable intellectual property. Organizations should conduct thorough risk assessments to determine which components can safely run in the browser and which must be protected behind server-side APIs. Complex algorithms, sensitive business rules, and proprietary calculations are often better suited for server-side implementation where they remain shielded from reverse engineering.</p>
</section></section></section><section class="section level3"><h3 id="best-practices-for-deployment">Best Practices for Deployment<a class="anchor" aria-label="anchor" href="#best-practices-for-deployment"></a>
</h3>
<p>While Shinylive represents an exciting advancement in browser-based applications, the best practices are a work in progress. We suggest organizations looking to adopt Shinylive look toward the following guidelines…</p>
<section class="level3"><h4 id="design-for-transparency">Design for Transparency<a class="anchor" aria-label="anchor" href="#design-for-transparency"></a>
</h4>
<p>Begin your development process with the understanding that all application code will be visible to users. This fundamental characteristic should inform decisions about what functionality to implement client-side versus server-side. Structure your code with this visibility in mind, including clear documentation and well-organized components that can withstand public scrutiny.</p>
</section><section class="level3"><h4 id="data-and-algorithm-protection">Data and Algorithm Protection<a class="anchor" aria-label="anchor" href="#data-and-algorithm-protection"></a>
</h4>
<p>Exercise extreme caution with sensitive information in Shinylive applications. Avoid including any Personal Identifiable Information (PII), protected health information (PHI), or confidential business data in the client-side portion of your application. Similarly, proprietary algorithms and critical business logic should not be implemented in the browser where they can be inspected and potentially replicated.</p>
</section><section class="level3"><h4 id="clear-licensing-and-attribution">Clear Licensing and Attribution<a class="anchor" aria-label="anchor" href="#clear-licensing-and-attribution"></a>
</h4>
<p>Include explicit licensing terms in your application’s source code. Place these at the beginning of each of your files, clearly stating:</p>
<ul>
<li>The type of license (e.g., MIT, Apache, GPL)</li>
<li>Copyright information</li>
<li>Any usage restrictions or requirements</li>
<li>Attribution requirements for dependencies</li>
</ul></section><section class="level3"><h4 id="hybrid-deployment-strategy">Hybrid Deployment Strategy<a class="anchor" aria-label="anchor" href="#hybrid-deployment-strategy"></a>
</h4>
<p>For applications requiring both public and protected components, consider implementing a hybrid architecture:</p>
<ul>
<li>Use Shinylive for non-sensitive, computationally intensive operations that benefit from client-side processing</li>
<li>Leverage traditional Shiny server deployment for handling sensitive data and protected business logic</li>
<li>Implement secure API endpoints for communication between Shinylive and server-side components</li>
<li>Establish clear boundaries between public and private functionality</li>
</ul>
<p>This hybrid approach allows you to leverage Shinylive’s benefits while maintaining necessary security controls for sensitive operations. When implementing this strategy, ensure proper authentication and authorization mechanisms are in place for any server-side interactions.</p>
</section><section class="level3"><h4 id="fin">Fin<a class="anchor" aria-label="anchor" href="#fin"></a>
</h4>
<p>The transformation from traditional Shiny to Shinylive represents a fundamental shift in how data science applications are delivered. While this brings advantages in deployment and accessibility, it also requires developers to embrace transparency and adjust their development practices accordingly. Tools like <code>peeky</code> serve as powerful reminders of this transparency, offering developers insights into how their applications will be perceived and potentially analyzed by end users.</p>
<p>Looking ahead, this paradigm shift suggests a future where data science applications are increasingly leveraging edge or client-side computation while maintaining careful boundaries around sensitive operations. Success in this new landscape requires balancing the benefits of browser-based execution with thoughtful protection of intellectual property and sensitive data. As the ecosystem matures, we expect to see emerging patterns and best practices that help developers navigate these considerations effectively.</p>
</section></section><section class="section level3"><h3 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h3>
<p>Thanks to the Shinylive, <a href="https://docs.r-wasm.org/webr/latest/" class="external-link">webR</a> and <a href="https://pyodide.org/en/stable/" class="external-link">Pyodide</a> teams for enabling browser-based data science.</p>
</section><section class="section level3"><h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<ol type="1">
<li><a href="https://shiny.posit.co/py/docs/shinylive.html" class="external-link">Shinylive overview</a></li>
<li>
<a href="https://docs.r-wasm.org/webr/latest/" class="external-link">webR Documentation</a>
<ul>
<li><a href="https://repo.r-wasm.org/" class="external-link">webR Package Repository</a></li>
</ul>
</li>
<li>
<a href="https://pyodide.org/en/stable/" class="external-link">Pyodide Documentation</a>
<ul>
<li><a href="https://pyodide.org/en/stable/usage/packages-in-pyodide.html" class="external-link">Pyodide built-in packages</a></li>
</ul>
</li>
<li><a href="https://github.com/quarto-ext/shinylive" class="external-link">Quarto Shinylive Extension</a></li>
<li><a href="https://github.com/georgestagg/shiny-standalone-webr-demo" class="external-link">Shiny Standalone webR Demo</a></li>
</ol></section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Joseph Balamuta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
