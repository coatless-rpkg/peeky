% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/writers.R
\name{write_file_content}
\alias{write_file_content}
\title{Write File Content in a Shinylive App to Disk}
\usage{
write_file_content(content, file_path, type = "text")
}
\arguments{
\item{content}{Character string containing the file content. For binary files,
this should be base64-encoded content. For text files, this should be the raw
text content.}

\item{file_path}{Character string specifying the path where the file should be
written. Parent directories will be created if they don't exist.}

\item{type}{Character string specifying the file type, either "text" (default)
or "binary". Binary files are assumed to be base64 encoded, as this is the
standard format for binary content in Shinylive applications.}
}
\value{
Invisible NULL, called for its side effect of writing a file to disk.
}
\description{
Writes file content extracted from Shinylive applications to disk, handling both
text and binary content appropriately. Creates any necessary parent directories
and ensures proper encoding of content. For binary files, automatically decodes
the base64-encoded content before writing.
}
\details{
The function handles two types of content:
\itemize{
\item Text files (\code{type = "text"}):
\itemize{
\item Content is converted to UTF-8 encoding using \code{enc2utf8()}
\item Written using \code{writeLines()} with \code{useBytes = TRUE}
}
\item Binary files (\code{type = "binary"}):
\itemize{
\item Content is decoded from base64 using \code{jsonlite::base64_dec()}
\item Written as raw binary data using \code{writeBin()}
}
}

Parent directories in the file path are automatically created if they don't
exist using \code{fs::dir_create()} with \code{recurse = TRUE}.
}
\examples{
\dontrun{
# Writing a text file
write_file_content(
  content = "library(shiny)\n\nui <- fluidPage()",
  file_path = "app/app.R",
  type = "text"
)

# Writing a binary file (base64-encoded content)
write_file_content(
  content = "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg==",
  file_path = "app/www/image.png",
  type = "binary"
)
}

}
\keyword{internal}
