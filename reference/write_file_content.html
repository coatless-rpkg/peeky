<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write File Content in a Shinylive App to Disk — write_file_content • peeky</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write File Content in a Shinylive App to Disk — write_file_content"><meta name="description" content="Writes file content extracted from Shinylive applications to disk, handling both
text and binary content appropriately. Creates any necessary parent directories
and ensures proper encoding of content. For binary files, automatically decodes
the base64-encoded content before writing."><meta property="og:description" content="Writes file content extracted from Shinylive applications to disk, handling both
text and binary content appropriately. Creates any necessary parent directories
and ensures proper encoding of content. For binary files, automatically decodes
the base64-encoded content before writing."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">peeky</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/behind-the-scenes.html">From Server-side to Browser-based Shiny Apps and Back Again</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/coatless-rpkg/peeky/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Write File Content in a Shinylive App to Disk</h1>
      <small class="dont-index">Source: <a href="https://github.com/coatless-rpkg/peeky/blob/main/R/writers.R" class="external-link"><code>R/writers.R</code></a></small>
      <div class="d-none name"><code>write_file_content.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Writes file content extracted from Shinylive applications to disk, handling both
text and binary content appropriately. Creates any necessary parent directories
and ensures proper encoding of content. For binary files, automatically decodes
the base64-encoded content before writing.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_file_content</span><span class="op">(</span><span class="va">content</span>, <span class="va">file_path</span>, type <span class="op">=</span> <span class="st">"text"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-content">content<a class="anchor" aria-label="anchor" href="#arg-content"></a></dt>
<dd><p>Character string containing the file content. For binary files,
this should be base64-encoded content. For text files, this should be the raw
text content.</p></dd>


<dt id="arg-file-path">file_path<a class="anchor" aria-label="anchor" href="#arg-file-path"></a></dt>
<dd><p>Character string specifying the path where the file should be
written. Parent directories will be created if they don't exist.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Character string specifying the file type, either "text" (default)
or "binary". Binary files are assumed to be base64 encoded, as this is the
standard format for binary content in Shinylive applications.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisible NULL, called for its side effect of writing a file to disk.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function handles two types of content:</p><ul><li><p>Text files (<code>type = "text"</code>):</p><ul><li><p>Content is converted to UTF-8 encoding using <code><a href="https://rdrr.io/r/base/Encoding.html" class="external-link">enc2utf8()</a></code></p></li>
<li><p>Written using <code><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines()</a></code> with <code>useBytes = TRUE</code></p></li>
</ul></li>
<li><p>Binary files (<code>type = "binary"</code>):</p><ul><li><p>Content is decoded from base64 using <code><a href="https://jeroen.r-universe.dev/jsonlite/reference/base64.html" class="external-link">jsonlite::base64_dec()</a></code></p></li>
<li><p>Written as raw binary data using <code><a href="https://rdrr.io/r/base/readBin.html" class="external-link">writeBin()</a></code></p></li>
</ul></li>
</ul><p>Parent directories in the file path are automatically created if they don't
exist using <code><a href="https://fs.r-lib.org/reference/create.html" class="external-link">fs::dir_create()</a></code> with <code>recurse = TRUE</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Writing a text file</span></span></span>
<span class="r-in"><span><span class="fu">write_file_content</span><span class="op">(</span></span></span>
<span class="r-in"><span>  content <span class="op">=</span> <span class="st">"library(shiny)\n\nui &lt;- fluidPage()"</span>,</span></span>
<span class="r-in"><span>  file_path <span class="op">=</span> <span class="st">"app/app.R"</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">"text"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Write base64 encoded image</span></span></span>
<span class="r-in"><span><span class="va">b64img</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAA"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"DUlEQVR42mP8z8BQDwAEhQGAhKmMIQAAAABJRU5ErkJggg=="</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_file_content</span><span class="op">(</span><span class="va">b64img</span>, <span class="st">"test.png"</span>, type <span class="op">=</span> <span class="st">"binary"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Joseph Balamuta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

